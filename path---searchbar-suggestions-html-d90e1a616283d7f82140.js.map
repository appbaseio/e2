{"version":3,"sources":["webpack:///path---searchbar-suggestions-html-d90e1a616283d7f82140.js","webpack:///./.cache/json/searchbar-suggestions-html.json"],"names":["webpackJsonp","441","module","exports","data","markdownRemark","html","frontmatter","title","next","prev","nextTitle","prevTitle","fields","path","slug","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SACAC,MACAC,gBACAC,KAAA,kugBACAC,aACAC,MAAA,cACAC,KAAA,iBACAC,KAAA,qBACAC,UAAA,YACAC,UAAA,iBAEAC,QACAC,KAAA,gCACAC,KAAA,gCAIAC,aACAD,KAAA","file":"path---searchbar-suggestions-html-d90e1a616283d7f82140.js","sourcesContent":["webpackJsonp([120835574311092],{\n\n/***/ 441:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\n\t\t\"data\": {\n\t\t\t\"markdownRemark\": {\n\t\t\t\t\"html\": \"<p>This article is a part of the series on <a href=\\\"https://appbaseio.gitbooks.io/esc/content/searchbar/introduction.html\\\"><strong>how to build a search bar</strong></a>.</p>\\n<h3 id=\\\"how-to-build-an-as-you-type-suggestions-view\\\"><a href=\\\"#how-to-build-an-as-you-type-suggestions-view\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>How to build an as-you-type suggestions view</h3>\\n<p>In this post, we will implement a search-as-you-type suggestions feature to help users save time, iterate on their searches, and get the results they want. It can also help with showing the relevant data to user’s inputs. We will be using a dataset containing a list of cities and countries and we will be building this feature using a custom n-gram analyzer.</p>\\n<p>To implement this functionality, we will use a n-gram tokenizer with a custom type analyzer. A custom analyzer allows to combine character filters, tokenizer, and token filters all at once. In this case we have used a self defined <code>tokenizer</code> called <code>ngramizer</code> which will split on characters that don’t belong to the classes specified in <code>token_chars</code> field.</p>\\n<p><code>Note:</code> An alternate approach can be implemented using Elasticsearch’s <strong>completion</strong> type and queried using a  <strong>suggester</strong> type query. You can read more about it in our building a search-as-you-type auto-completion feature post <a href=\\\"https://github.com/appbaseio/esc/blob/master/searchbar/auto-complete.md\\\">here</a>.</p>\\n<h2 id=\\\"defining-mappings\\\"><a href=\\\"#defining-mappings\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Defining Mappings</h2>\\n<p>If you have worked with a SQL database system before, you are probably familiar with the idea of a schema. Elasticsearch’s equivalent of a schema definition is a mapping.</p>\\n<p>In this section, we will specify the mappings for our two fields: city and country, with the necessary settings to enable suggestions functionality.</p>\\n<h3 id=\\\"transforming-data-to-n-gram-tokens-before-indexing\\\"><a href=\\\"#transforming-data-to-n-gram-tokens-before-indexing\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Transforming data to n-gram tokens before indexing</h3>\\n<p>We would ideally want the auto-suggestion to work on a text phrase in a way that even if the user types a word that is not at the start of the phrase, we can match it correctly. This is where n-grams come in handy. 3-grams for the phrase “New York” will be [“new”, “yor”, “ork”, “rky”, “kyo”].</p>\\n<p>We will set our tokenizer to create all [1-10] grams of a token. You can read more about ngrams over <a href=\\\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-ngram-tokenizer.html\\\">here</a>.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl -XPUT \\\"$host/normal_searchbar/_settings?pretty\\\" -d '{\\n  \\\"analysis\\\": {\\n    \\\"tokenizer\\\": {\\n      \\\"ngramizer\\\": {\\n        \\\"type\\\": \\\"ngram\\\",\\n        \\\"min_gram\\\": 1,\\n        \\\"max_gram\\\": 10,\\n        \\\"token_chars\\\": [\\n          \\\"letter\\\",\\n          \\\"digit\\\",\\n          \\\"punctuation\\\",\\n          \\\"symbol\\\"\\n        ]\\n      }\\n    },\\n    \\\"analyzer\\\": {\\n      \\\"auto-suggest\\\": {\\n        \\\"type\\\": \\\"custom\\\",\\n        \\\"tokenizer\\\": \\\"ngramizer\\\",\\n        \\\"filter\\\": [\\n          \\\"lowercase\\\",\\n          \\\"asciifolding\\\"\\n        ]\\n      }\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<p>We just added a custom analyzer called <code>auto-suggest</code> which uses a custom tokenizer <code>ngramizer</code> for creating [1-10]grams for each token.</p>\\n<p><code>Note:</code> Where we use type as <code>ngram</code> in the above snippet, you can also instead set type as <code>edge_ngram</code>. It is like n-gram except filtered by the beginning character of the n-gram. [1-3] edge-grams for the phrase “New York” will be [“n”, “ne”, “new”, “y”, “yo”, “yor”].</p>\\n<p><code>Note:</code> The <code>_settings</code> endpoint can be used for adding one or more custom analyzers.</p>\\n<h3 id=\\\"updating-mappings\\\"><a href=\\\"#updating-mappings\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Updating Mappings</h3>\\n<p>Next, we will update the mapping for the <strong>city</strong> and <strong>country</strong> fields. We will exploit a very cool feature of Elasticsearch called <a href=\\\"https://www.elastic.co/guide/en/elasticsearch/reference/current/multi-fields.html\\\"><strong>multi-fields</strong></a> in doing so. Multi-fields enable indexing the same field in different ways, thus allowing for multiple ways of querying without requiring any additional effort in indexing of the data.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl -XPUT \\\"$host/normal_searchbar/_mapping/searchbar\\\" -d '{\\n  \\\"properties\\\": {\\n    \\\"city\\\": {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"fields\\\": {\\n        \\\"city_autosuggest\\\": {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"analyzer\\\": \\\"auto-suggest\\\",\\n          \\\"search_analyzer\\\": \\\"simple\\\"\\n        }\\n      }\\n    },\\n    \\\"country\\\": {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"fields\\\": {\\n        \\\"country_autosuggest\\\": {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"analyzer\\\": \\\"auto-suggest\\\",\\n          \\\"search_analyzer\\\": \\\"simple\\\"\\n        }\\n      }\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<p>Note that we are only analyzing the data into n-grams at index time. At search time, creating n-grams from the search text would be redundant and hence, we will use a <strong>simple</strong> analyzer over there. A <a href=\\\"https://www.elastic.co/guide/en/elasticsearch/reference/2.4/analysis-simple-analyzer.html\\\">simple analyzer</a> only applies a lowercase tokenizer.</p>\\n<h3 id=\\\"data-indexing\\\"><a href=\\\"#data-indexing\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Data Indexing</h3>\\n<p>As you can see, while indexing the data, we only need to insert the <strong>city</strong> and <strong>country</strong> fields.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl -XPUT $host/normal_searchbar/searchbar/1 -d '{\\n  \\\"city\\\": \\\"New York\\\",\\n  \\\"country\\\": \\\"United States\\\"\\n}'</code></pre>\\n      </div>\\n<h2 id=\\\"data-browser-view\\\"><a href=\\\"#data-browser-view\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Data Browser View</h2>\\n<p>For better accessibility, we have indexed ~15,000 data points that can be viewed in the data browser <a href=\\\"https://opensource.appbase.io/dejavu/live/#?input_state=XQAAAALvAAAAAAAAAAA9iIqnY-B2BnTZGEQz6wkFslF8ZMg7A6kGLFGPADbJVmb5ysVqinQQuiFLkb4deUgCDkj3Ca7c1o_y8XA0-MkniaJtriPLcO0sOs-he9RgZSsY1-Dj7M1oUHcSMXEdlL__k05smSCpzBnTIbIxXMyoFoHyy8Z_g-Ku8eQnTdtXdsrQgMg_wmz9OmY-26TdzjLWp-v2Wf1WiRDeMXYvBl1QvLH_j_iLGk7AkFU5rmsqyCR3BmLVt2baZT9KRDsA_8PvEAA&#x26;editable=false\\\">here. <img src=\\\"https://i.imgur.com/rHOEixS.png\\\"></a></p>\\n<h3 id=\\\"query\\\"><a href=\\\"#query\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query</h3>\\n<p>Next, we will move to the queries section. Here, we will be using the match query for getting the suggestions. Let’s first query on <code>city</code> field.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl $host/normal_searchbar/searchbar/_search?pretty -d '{\\n  \\\"query\\\": {\\n    \\\"match\\\": {\\n      \\\"city.city_autosuggest\\\": \\\"York\\\"\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<p>Here user inputs are passed as a value of <code>city.city_autosuggest</code> field.</p>\\n<h5 id=\\\"response\\\"><a href=\\\"#response\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Response</h5>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>{\\n  \\\"took\\\" : 1,\\n  \\\"timed_out\\\" : false,\\n  \\\"_shards\\\" : {\\n    \\\"total\\\" : 1,\\n    \\\"successful\\\" : 1,\\n    \\\"failed\\\" : 0\\n  },\\n  \\\"hits\\\" : {\\n    \\\"total\\\" : 2,\\n    \\\"max_score\\\" : 4.4288692,\\n    \\\"hits\\\" : [ {\\n      \\\"_index\\\" : \\\"normal_searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYWRohvsk2FETcOKG\\\",\\n      \\\"_score\\\" : 4.4288692,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"York\\\",\\n        \\\"country\\\" : \\\"United Kingdom\\\"\\n      }\\n    }, {\\n      \\\"_index\\\" : \\\"searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYRgYhvsk2FETcMug\\\",\\n      \\\"_score\\\" : 3.321652,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"New York\\\",\\n        \\\"country\\\" : \\\"United States\\\"\\n      }\\n    }]\\n  }\\n}</code></pre>\\n      </div>\\n<p>In the response, you can see Elasticsearch has returned two documents which have matched with the <code>York</code> query. Match query also provides <code>_score</code> field to get the similarity ratio between user inputs and indexed documents.</p>\\n<h4 id=\\\"query-on-country\\\"><a href=\\\"#query-on-country\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query on Country</h4>\\n<p>A similar query for suggestions on the <strong>country</strong> field would look like this:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl $host/normal_searchbar/searchbar/_search?pretty -d '{\\n  \\\"query\\\": {\\n    \\\"match\\\": {\\n      \\\"country.country_autosuggest\\\": \\\"States\\\"\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<h4 id=\\\"query-on-both-city-and-country\\\"><a href=\\\"#query-on-both-city-and-country\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query on both City and Country</h4>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl $host/normal_searchbar/searchbar/_search?pretty -d '{\\n  \\\"query\\\": {\\n    \\\"multi_match\\\": {\\n      \\\"query\\\": \\\"New York\\\",\\n      \\\"fields\\\": [\\\"city.city_autosuggest\\\", \\\"country.country_autosuggest\\\"]\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<h3 id=\\\"query-response\\\"><a href=\\\"#query-response\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query Response</h3>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>{\\n  \\\"took\\\" : 17,\\n  \\\"timed_out\\\" : false,\\n  \\\"_shards\\\" : {\\n    \\\"total\\\" : 1,\\n    \\\"successful\\\" : 1,\\n    \\\"failed\\\" : 0\\n  },\\n  \\\"hits\\\" : {\\n    \\\"total\\\" : 2,\\n    \\\"max_score\\\" : 3.1685972,\\n    \\\"hits\\\" : [ {\\n      \\\"_index\\\" : \\\"normal_searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYRgYhvsk2FETcMug\\\",\\n      \\\"_score\\\" : 3.1685972,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"New York\\\",\\n        \\\"country\\\" : \\\"United States\\\"\\n      }\\n    }, {\\n      \\\"_index\\\" : \\\"normal_searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYWRohvsk2FETcOKG\\\",\\n      \\\"_score\\\" : 1.3023362,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"York\\\",\\n        \\\"country\\\" : \\\"United Kingdom\\\"\\n      }\\n    }]\\n  }\\n}</code></pre>\\n      </div>\\n<p>You can also try out this query interactively <a href=\\\"https://opensource.appbase.io/mirage/#?input_state=XQAAAAISBgAAAAAAAAA9iIhnNAWbsswtYjeQNZkpzQK4_mOzUeDpWmIMRwpW8tLJEeyKCwoHzPOkL9M0KdbHLZtMVPxIPMlh7YYAQinNjBTPX006UGzGERYNqNYjacxklVFkEoKyx2zaubRUqhqxScMG9gD-h7bDyj7ZQ6VU2Kj2rkJ1mds7BRVYkDfAHTEbtNa5GW20cp1fus1prbJbNXISvUEQNnPsDOsiH93N8mrqk4ZUuFt9U-a6lycH_ep550RD_dqNp8O-_A9qC47n_yrU_BAyybWtYEqbqRubgwH5baTC-QUPkZhVv-NTguSpvY87WPm9DYiLbJIjGia60W7q-RJW_8qOldSdcuXZuaV-oe_SSrUY6SdSRnGUasF9jyyODzAvfMcKpMSaTmK2W9N2p9c-TjmKn0qNpP8rb_94BIPECIrPMS2bpz4FxVM4auqLxGt8ytJTGmaKWfXmxwlAKO5AZgEJNkz43JbjaPFoWka-u-2ZIYI3-aKmUOgeRoAQ9KuWN1P0Rx-Y3EoXZs3_Iodp48WS8L8kreylBybw8CiRF4K3xl8P0HMKBF0-Pk1p8N0mYLM6HEvjqseDb2elEtSWW8WrYoXyWb6AIIF9EkVvrCGbUYUeY6PcCg8O3Wv9vTP2h4sdg6o2CZb4kdrWmfDRACzWA1mdJXttyT4v-P24C9pE5NI7QALLlAkSPaURi91BbCgbH7yXgjG7_DYbag\\\">here. <img src=\\\"https://i.imgur.com/nC3g4LR.png\\\"></a></p>\\n<p>Benefits and Drawbacks v/s auto-complete.</p>\\n<ol>\\n<li>Highlight the trade-off of increased index size because of space requirements of ngram.</li>\\n<li>Sometimes, you really don’t want to match incomplete words, auto-complete is better in such a scenario.</li>\\n</ol>\\n<hr>\\n<p>Next, you should read about <a href=\\\"https://appbaseio.gitbooks.io/esc/content/searchbar/searchbar.html\\\"><strong>Searchbar</strong></a>.</p>\",\n\t\t\t\t\"frontmatter\": {\n\t\t\t\t\t\"title\": \"Suggestions\",\n\t\t\t\t\t\"next\": \"searchbar.html\",\n\t\t\t\t\t\"prev\": \"auto-complete.html\",\n\t\t\t\t\t\"nextTitle\": \"Searchbar\",\n\t\t\t\t\t\"prevTitle\": \"Auto Complete\"\n\t\t\t\t},\n\t\t\t\t\"fields\": {\n\t\t\t\t\t\"path\": \"docs/searchbar/suggestions.md\",\n\t\t\t\t\t\"slug\": \"searchbar/suggestions.html\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\"pathContext\": {\n\t\t\t\"slug\": \"searchbar/suggestions.html\"\n\t\t}\n\t};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---searchbar-suggestions-html-d90e1a616283d7f82140.js","module.exports = {\n\t\"data\": {\n\t\t\"markdownRemark\": {\n\t\t\t\"html\": \"<p>This article is a part of the series on <a href=\\\"https://appbaseio.gitbooks.io/esc/content/searchbar/introduction.html\\\"><strong>how to build a search bar</strong></a>.</p>\\n<h3 id=\\\"how-to-build-an-as-you-type-suggestions-view\\\"><a href=\\\"#how-to-build-an-as-you-type-suggestions-view\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>How to build an as-you-type suggestions view</h3>\\n<p>In this post, we will implement a search-as-you-type suggestions feature to help users save time, iterate on their searches, and get the results they want. It can also help with showing the relevant data to user’s inputs. We will be using a dataset containing a list of cities and countries and we will be building this feature using a custom n-gram analyzer.</p>\\n<p>To implement this functionality, we will use a n-gram tokenizer with a custom type analyzer. A custom analyzer allows to combine character filters, tokenizer, and token filters all at once. In this case we have used a self defined <code>tokenizer</code> called <code>ngramizer</code> which will split on characters that don’t belong to the classes specified in <code>token_chars</code> field.</p>\\n<p><code>Note:</code> An alternate approach can be implemented using Elasticsearch’s <strong>completion</strong> type and queried using a  <strong>suggester</strong> type query. You can read more about it in our building a search-as-you-type auto-completion feature post <a href=\\\"https://github.com/appbaseio/esc/blob/master/searchbar/auto-complete.md\\\">here</a>.</p>\\n<h2 id=\\\"defining-mappings\\\"><a href=\\\"#defining-mappings\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Defining Mappings</h2>\\n<p>If you have worked with a SQL database system before, you are probably familiar with the idea of a schema. Elasticsearch’s equivalent of a schema definition is a mapping.</p>\\n<p>In this section, we will specify the mappings for our two fields: city and country, with the necessary settings to enable suggestions functionality.</p>\\n<h3 id=\\\"transforming-data-to-n-gram-tokens-before-indexing\\\"><a href=\\\"#transforming-data-to-n-gram-tokens-before-indexing\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Transforming data to n-gram tokens before indexing</h3>\\n<p>We would ideally want the auto-suggestion to work on a text phrase in a way that even if the user types a word that is not at the start of the phrase, we can match it correctly. This is where n-grams come in handy. 3-grams for the phrase “New York” will be [“new”, “yor”, “ork”, “rky”, “kyo”].</p>\\n<p>We will set our tokenizer to create all [1-10] grams of a token. You can read more about ngrams over <a href=\\\"https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-ngram-tokenizer.html\\\">here</a>.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl -XPUT \\\"$host/normal_searchbar/_settings?pretty\\\" -d '{\\n  \\\"analysis\\\": {\\n    \\\"tokenizer\\\": {\\n      \\\"ngramizer\\\": {\\n        \\\"type\\\": \\\"ngram\\\",\\n        \\\"min_gram\\\": 1,\\n        \\\"max_gram\\\": 10,\\n        \\\"token_chars\\\": [\\n          \\\"letter\\\",\\n          \\\"digit\\\",\\n          \\\"punctuation\\\",\\n          \\\"symbol\\\"\\n        ]\\n      }\\n    },\\n    \\\"analyzer\\\": {\\n      \\\"auto-suggest\\\": {\\n        \\\"type\\\": \\\"custom\\\",\\n        \\\"tokenizer\\\": \\\"ngramizer\\\",\\n        \\\"filter\\\": [\\n          \\\"lowercase\\\",\\n          \\\"asciifolding\\\"\\n        ]\\n      }\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<p>We just added a custom analyzer called <code>auto-suggest</code> which uses a custom tokenizer <code>ngramizer</code> for creating [1-10]grams for each token.</p>\\n<p><code>Note:</code> Where we use type as <code>ngram</code> in the above snippet, you can also instead set type as <code>edge_ngram</code>. It is like n-gram except filtered by the beginning character of the n-gram. [1-3] edge-grams for the phrase “New York” will be [“n”, “ne”, “new”, “y”, “yo”, “yor”].</p>\\n<p><code>Note:</code> The <code>_settings</code> endpoint can be used for adding one or more custom analyzers.</p>\\n<h3 id=\\\"updating-mappings\\\"><a href=\\\"#updating-mappings\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Updating Mappings</h3>\\n<p>Next, we will update the mapping for the <strong>city</strong> and <strong>country</strong> fields. We will exploit a very cool feature of Elasticsearch called <a href=\\\"https://www.elastic.co/guide/en/elasticsearch/reference/current/multi-fields.html\\\"><strong>multi-fields</strong></a> in doing so. Multi-fields enable indexing the same field in different ways, thus allowing for multiple ways of querying without requiring any additional effort in indexing of the data.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl -XPUT \\\"$host/normal_searchbar/_mapping/searchbar\\\" -d '{\\n  \\\"properties\\\": {\\n    \\\"city\\\": {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"fields\\\": {\\n        \\\"city_autosuggest\\\": {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"analyzer\\\": \\\"auto-suggest\\\",\\n          \\\"search_analyzer\\\": \\\"simple\\\"\\n        }\\n      }\\n    },\\n    \\\"country\\\": {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"fields\\\": {\\n        \\\"country_autosuggest\\\": {\\n          \\\"type\\\": \\\"text\\\",\\n          \\\"analyzer\\\": \\\"auto-suggest\\\",\\n          \\\"search_analyzer\\\": \\\"simple\\\"\\n        }\\n      }\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<p>Note that we are only analyzing the data into n-grams at index time. At search time, creating n-grams from the search text would be redundant and hence, we will use a <strong>simple</strong> analyzer over there. A <a href=\\\"https://www.elastic.co/guide/en/elasticsearch/reference/2.4/analysis-simple-analyzer.html\\\">simple analyzer</a> only applies a lowercase tokenizer.</p>\\n<h3 id=\\\"data-indexing\\\"><a href=\\\"#data-indexing\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Data Indexing</h3>\\n<p>As you can see, while indexing the data, we only need to insert the <strong>city</strong> and <strong>country</strong> fields.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl -XPUT $host/normal_searchbar/searchbar/1 -d '{\\n  \\\"city\\\": \\\"New York\\\",\\n  \\\"country\\\": \\\"United States\\\"\\n}'</code></pre>\\n      </div>\\n<h2 id=\\\"data-browser-view\\\"><a href=\\\"#data-browser-view\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Data Browser View</h2>\\n<p>For better accessibility, we have indexed ~15,000 data points that can be viewed in the data browser <a href=\\\"https://opensource.appbase.io/dejavu/live/#?input_state=XQAAAALvAAAAAAAAAAA9iIqnY-B2BnTZGEQz6wkFslF8ZMg7A6kGLFGPADbJVmb5ysVqinQQuiFLkb4deUgCDkj3Ca7c1o_y8XA0-MkniaJtriPLcO0sOs-he9RgZSsY1-Dj7M1oUHcSMXEdlL__k05smSCpzBnTIbIxXMyoFoHyy8Z_g-Ku8eQnTdtXdsrQgMg_wmz9OmY-26TdzjLWp-v2Wf1WiRDeMXYvBl1QvLH_j_iLGk7AkFU5rmsqyCR3BmLVt2baZT9KRDsA_8PvEAA&#x26;editable=false\\\">here. <img src=\\\"https://i.imgur.com/rHOEixS.png\\\"></a></p>\\n<h3 id=\\\"query\\\"><a href=\\\"#query\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query</h3>\\n<p>Next, we will move to the queries section. Here, we will be using the match query for getting the suggestions. Let’s first query on <code>city</code> field.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl $host/normal_searchbar/searchbar/_search?pretty -d '{\\n  \\\"query\\\": {\\n    \\\"match\\\": {\\n      \\\"city.city_autosuggest\\\": \\\"York\\\"\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<p>Here user inputs are passed as a value of <code>city.city_autosuggest</code> field.</p>\\n<h5 id=\\\"response\\\"><a href=\\\"#response\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Response</h5>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>{\\n  \\\"took\\\" : 1,\\n  \\\"timed_out\\\" : false,\\n  \\\"_shards\\\" : {\\n    \\\"total\\\" : 1,\\n    \\\"successful\\\" : 1,\\n    \\\"failed\\\" : 0\\n  },\\n  \\\"hits\\\" : {\\n    \\\"total\\\" : 2,\\n    \\\"max_score\\\" : 4.4288692,\\n    \\\"hits\\\" : [ {\\n      \\\"_index\\\" : \\\"normal_searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYWRohvsk2FETcOKG\\\",\\n      \\\"_score\\\" : 4.4288692,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"York\\\",\\n        \\\"country\\\" : \\\"United Kingdom\\\"\\n      }\\n    }, {\\n      \\\"_index\\\" : \\\"searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYRgYhvsk2FETcMug\\\",\\n      \\\"_score\\\" : 3.321652,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"New York\\\",\\n        \\\"country\\\" : \\\"United States\\\"\\n      }\\n    }]\\n  }\\n}</code></pre>\\n      </div>\\n<p>In the response, you can see Elasticsearch has returned two documents which have matched with the <code>York</code> query. Match query also provides <code>_score</code> field to get the similarity ratio between user inputs and indexed documents.</p>\\n<h4 id=\\\"query-on-country\\\"><a href=\\\"#query-on-country\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query on Country</h4>\\n<p>A similar query for suggestions on the <strong>country</strong> field would look like this:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl $host/normal_searchbar/searchbar/_search?pretty -d '{\\n  \\\"query\\\": {\\n    \\\"match\\\": {\\n      \\\"country.country_autosuggest\\\": \\\"States\\\"\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<h4 id=\\\"query-on-both-city-and-country\\\"><a href=\\\"#query-on-both-city-and-country\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query on both City and Country</h4>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>curl $host/normal_searchbar/searchbar/_search?pretty -d '{\\n  \\\"query\\\": {\\n    \\\"multi_match\\\": {\\n      \\\"query\\\": \\\"New York\\\",\\n      \\\"fields\\\": [\\\"city.city_autosuggest\\\", \\\"country.country_autosuggest\\\"]\\n    }\\n  }\\n}'</code></pre>\\n      </div>\\n<h3 id=\\\"query-response\\\"><a href=\\\"#query-response\\\" aria-hidden=\\\"true\\\" class=\\\"anchor\\\"><svg aria-hidden=\\\"true\\\" height=\\\"16\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 16\\\" width=\\\"16\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\\\"></path></svg></a>Query Response</h3>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"gatsby-code-jsxon\\\"><code>{\\n  \\\"took\\\" : 17,\\n  \\\"timed_out\\\" : false,\\n  \\\"_shards\\\" : {\\n    \\\"total\\\" : 1,\\n    \\\"successful\\\" : 1,\\n    \\\"failed\\\" : 0\\n  },\\n  \\\"hits\\\" : {\\n    \\\"total\\\" : 2,\\n    \\\"max_score\\\" : 3.1685972,\\n    \\\"hits\\\" : [ {\\n      \\\"_index\\\" : \\\"normal_searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYRgYhvsk2FETcMug\\\",\\n      \\\"_score\\\" : 3.1685972,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"New York\\\",\\n        \\\"country\\\" : \\\"United States\\\"\\n      }\\n    }, {\\n      \\\"_index\\\" : \\\"normal_searchbar\\\",\\n      \\\"_type\\\" : \\\"searchbar\\\",\\n      \\\"_id\\\" : \\\"AVsMYWRohvsk2FETcOKG\\\",\\n      \\\"_score\\\" : 1.3023362,\\n      \\\"_source\\\" : {\\n        \\\"city\\\" : \\\"York\\\",\\n        \\\"country\\\" : \\\"United Kingdom\\\"\\n      }\\n    }]\\n  }\\n}</code></pre>\\n      </div>\\n<p>You can also try out this query interactively <a href=\\\"https://opensource.appbase.io/mirage/#?input_state=XQAAAAISBgAAAAAAAAA9iIhnNAWbsswtYjeQNZkpzQK4_mOzUeDpWmIMRwpW8tLJEeyKCwoHzPOkL9M0KdbHLZtMVPxIPMlh7YYAQinNjBTPX006UGzGERYNqNYjacxklVFkEoKyx2zaubRUqhqxScMG9gD-h7bDyj7ZQ6VU2Kj2rkJ1mds7BRVYkDfAHTEbtNa5GW20cp1fus1prbJbNXISvUEQNnPsDOsiH93N8mrqk4ZUuFt9U-a6lycH_ep550RD_dqNp8O-_A9qC47n_yrU_BAyybWtYEqbqRubgwH5baTC-QUPkZhVv-NTguSpvY87WPm9DYiLbJIjGia60W7q-RJW_8qOldSdcuXZuaV-oe_SSrUY6SdSRnGUasF9jyyODzAvfMcKpMSaTmK2W9N2p9c-TjmKn0qNpP8rb_94BIPECIrPMS2bpz4FxVM4auqLxGt8ytJTGmaKWfXmxwlAKO5AZgEJNkz43JbjaPFoWka-u-2ZIYI3-aKmUOgeRoAQ9KuWN1P0Rx-Y3EoXZs3_Iodp48WS8L8kreylBybw8CiRF4K3xl8P0HMKBF0-Pk1p8N0mYLM6HEvjqseDb2elEtSWW8WrYoXyWb6AIIF9EkVvrCGbUYUeY6PcCg8O3Wv9vTP2h4sdg6o2CZb4kdrWmfDRACzWA1mdJXttyT4v-P24C9pE5NI7QALLlAkSPaURi91BbCgbH7yXgjG7_DYbag\\\">here. <img src=\\\"https://i.imgur.com/nC3g4LR.png\\\"></a></p>\\n<p>Benefits and Drawbacks v/s auto-complete.</p>\\n<ol>\\n<li>Highlight the trade-off of increased index size because of space requirements of ngram.</li>\\n<li>Sometimes, you really don’t want to match incomplete words, auto-complete is better in such a scenario.</li>\\n</ol>\\n<hr>\\n<p>Next, you should read about <a href=\\\"https://appbaseio.gitbooks.io/esc/content/searchbar/searchbar.html\\\"><strong>Searchbar</strong></a>.</p>\",\n\t\t\t\"frontmatter\": {\n\t\t\t\t\"title\": \"Suggestions\",\n\t\t\t\t\"next\": \"searchbar.html\",\n\t\t\t\t\"prev\": \"auto-complete.html\",\n\t\t\t\t\"nextTitle\": \"Searchbar\",\n\t\t\t\t\"prevTitle\": \"Auto Complete\"\n\t\t\t},\n\t\t\t\"fields\": {\n\t\t\t\t\"path\": \"docs/searchbar/suggestions.md\",\n\t\t\t\t\"slug\": \"searchbar/suggestions.html\"\n\t\t\t}\n\t\t}\n\t},\n\t\"pathContext\": {\n\t\t\"slug\": \"searchbar/suggestions.html\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/searchbar-suggestions-html.json\n// module id = 441\n// module chunks = 120835574311092"],"sourceRoot":""}