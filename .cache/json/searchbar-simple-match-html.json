{
    "data": {
        "markdownRemark": {
            "html": "<p>This article is a part of the series on <a href=\"https://appbaseio.gitbooks.io/esc/content/searchbar/introduction.html\"><strong>how to build a search bar</strong></a>.</p>\n<h2 id=\"how-to-build-a-simple-match-search\"><a href=\"#how-to-build-a-simple-match-search\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How To Build A Simple Match Search</h2>\n<p>Every complex search begins its journey with simplicity.</p>\n<p>In this post, we will go through the process of building a very simple search experience using Elasticsearch.</p>\n<h2 id=\"defining-mappings\"><a href=\"#defining-mappings\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Defining Mappings</h2>\n<p>If you have worked with a SQL database system before, you are probably familiar with the idea of a schema. Elasticsearchâ€™s equivalent of a schema definition is a mapping.</p>\n<p>Being a NoSQL document store that works with JSON data, it comes with a convenient default for dynamic mappings. And we will exploit that to index our first data.</p>\n<h2 id=\"indexing-data\"><a href=\"#indexing-data\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Indexing Data</h2>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-bash\"><code>curl -XPUT <span class=\"token variable\">$host</span>/normal_searchbar/searchbar/1 -d <span class=\"token string\">'{\n  \"city\": \"New York\",\n  \"country\": \"United States\"\n}'</span>\n</code></pre>\n      </div>\n<p>If we look back at our data mappings, they should now look like as follows</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-bash\"><code>curl <span class=\"token variable\">$host</span>/normal_searchbar/_mapping?pretty\n</code></pre>\n      </div>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code><span class=\"token string\">\"normal_searchbar\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"mappings\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"searchbar\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"properties\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"city\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"type\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"fields\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"keyword\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token string\">\"type\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"keyword\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string\">\"ignore_above\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">256</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"country\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">\"type\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token string\">\"fields\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">\"keyword\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token string\">\"type\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"keyword\"</span><span class=\"token punctuation\">,</span>\n              <span class=\"token string\">\"ignore_above\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">256</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>\n<p>Elasticsearch created these mappings dynamically based on our indexed data.</p>\n<h2 id=\"data-browser-view\"><a href=\"#data-browser-view\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Browser View</h2>\n<p>For accessibility, we have indexed ~15,000 data points that can be viewed in the data browser <a href=\"https://opensource.appbase.io/dejavu/live/#?input_state=XQAAAALvAAAAAAAAAAA9iIqnY-B2BnTZGEQz6wkFslF8ZMg7A6kGLFGPADbJVmb5ysVqinQQuiFLkb4deUgCDkj3Ca7c1o_y8XA0-MkniaJtriPLcO0sOs-he9RgZSsY1-Dj7M1oUHcSMXEdlL__k05smSCpzBnTIbIxXMyoFoHyy8Z_g-Ku8eQnTdtXdsrQgMg_wmz9OmY-26TdzjLWp-v2Wf1WiRDeMXYvBl1QvLH_j_iLGk7AkFU5rmsqyCR3BmLVt2baZT9KRDsA_8PvEAA&#x26;editable=false\">here. <img src=\"https://i.imgur.com/gCu8brp.png\"></a></p>\n<h2 id=\"query\"><a href=\"#query\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Query</h2>\n<p>Now we will write our first search query, <strong>match</strong>.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-bash\"><code>curl <span class=\"token string\">\"<span class=\"token variable\">$host</span>/normal_searchbar/searchbar/_search?pretty\"</span> -d <span class=\"token string\">'{\n  \"query\": {\n<span class=\"gatsby-highlight-code-line\">    \"match\": {\n</span><span class=\"gatsby-highlight-code-line\">      \"city\": \"New York\"\n</span><span class=\"gatsby-highlight-code-line\">    }\n</span>  }\n}'</span>\n</code></pre>\n      </div>\n<p>Response:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"gatsby-code-jsx\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"took\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">28</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"timed_out\"</span> <span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"_shards\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"total\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"successful\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"failed\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"hits\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"total\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"max_score\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">7.445813</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"hits\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"_index\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"normal_searchbar\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"_type\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"searchbar\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"_id\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"_score\"</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">7.445813</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">\"_source\"</span> <span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"city\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"New York\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"country\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"United States\"</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre>\n      </div>\n<p>You can also try out this query interactively  <a href=\"https://opensource.appbase.io/mirage/#?input_state=XQAAAAJeBQAAAAAAAAA9iIhnNAWbsswtYjeQNZkpzQK4_mOzUeDpWmIMRwpW8tLJEeyKCwoHzPOkL9M0KdbHLZtMVPxIPMlh7YYAQinNjBTPX006UGzGERYNqNYjacxklVFkEoKyx2zaubRUqhqxScMG9gD-h7bDyj7ZQ6VU2Kj2rkJ1mds7BRVYkDfAHTEbtNa5GW20cp1fus1prbJbNXISvUEQNnPsDOsiH93N8mrqk4ZUuFt9U-a6lycH_ep550RD_dqNp8O-_A9qC47n_yrU_BAyybWtYEqbqRubgwH5baTC-QR8cqtVNANksc4-2BgClNbtmRec6DIggUIQApnQW6Ka43GNQq1VJspFdL6BLiepaIvHsDim4UET7rm6-S-XBuAgmxwXg3uRZWbHsh2dXJc7OFlkkJ5ya2vtztZPA8jbWub8fNumuGGaas26ulK15v1eC6OvUVIizE6-4gA5Hf2VtlzBtduJrH6OUSJpSwOEThH8-2BKVYsJC11RK1IZz_CfkD1pl9s6Krlk6IjK2dlIIoqFy3S5dN5Z77hoOOVGDCTlDFL450xutJaPdENBxXQP4p98KwkK4Ph6fLGgTL7c5MY7Oqgd9P-tqeiPkaYCzZ9h4OQUqcxCn6MrWlo-g3XhMAmDaXD1N8VLhNAic0F2XkN1MLisvMMdHftDHr6zn96c6i4T_5fw9rw\">here. <img src=\"https://i.imgur.com/Z4Vt76n.png\"></a></p>\n<hr>\n<p>You should next read about <a href=\"https://appbaseio.gitbooks.io/esc/content/searchbar/multi-match.html\"><strong>multi match</strong></a>.</p>",
            "frontmatter": {
                "title": "Simple Match",
                "next": "multi-match.html",
                "prev": "introduction.html",
                "nextTitle": "Multi Match",
                "prevTitle": "Searchbar: Introduction"
            },
            "fields": {
                "path": "docs/searchbar/simple-match.md",
                "slug": "searchbar/simple-match.html"
            }
        }
    },
    "pathContext": {
        "slug": "searchbar/simple-match.html"
    }
}